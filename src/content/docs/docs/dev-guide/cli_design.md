---
title: å‘½ä»¤è¡Œè®¾è®¡è§„èŒƒ
---
# å‘½ä»¤è¡Œè®¾è®¡è§„èŒƒ

## Exit Code å®šä¹‰

| code | å«ä¹‰                                               |
| ---- | -------------------------------------------------- |
| 0    | æ­£å¸¸é€€å‡º                                           |
| 100  | Serverless Devs å·¥å…·æœ¬èº«é”™è¯¯é€€å‡º                   |
| 101  | Serverless Devs å·¥å…·ç»„ä»¶æ‰§è¡Œæ—¶ï¼Œç»„ä»¶é”™è¯¯å¼•èµ·çš„é€€å‡º |

## å‘½ä»¤è¡Œè®¾è®¡è§„èŒƒ

Serverless Devs ä½œä¸º Serverless é¢†åŸŸçš„å¼€å‘è€…å·¥å…·ï¼Œå…¶è¾“å‡ºçš„æ ‡å‡†åŒ–å’Œè§„èŒƒåŒ–ä¼šåœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯¹ç”¨æˆ·ä½“éªŒæœ‰æ¯”è¾ƒæ˜æ˜¾çš„å½±å“ã€‚

æœ¬æ–‡æ¡£å°†ä¼šé€šè¿‡ä¸€äº›æ–‡å­—å’Œæ¡ˆä¾‹ï¼Œå¯¹Serverless Devsçš„å‘½ä»¤è¡Œå·¥å…·è¾“å‡ºï¼Œè¿›è¡Œè§„èŒƒåŒ–å‡çº§ã€‚

### è§„èŒƒè¯¦æƒ…

è¾“å‡ºæ ¼å¼çš„è§„èŒƒç›®æ ‡æ˜¯ï¼š

- æ›´æ¸…æ™°
- æ›´ç®€çº¦
- ä¸å½±å“åŠŸèƒ½å®ç”¨

åŸºäºä»¥ä¸Šä¸‰ä¸ªåŸåˆ™ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æ­£å¸¸è¾“å‡ºçš„å½¢å¼ã€å¼‚å¸¸è¾“å‡ºçš„å½¢å¼ç­‰åˆ†åˆ«è¿›è¡Œä¸¾ä¾‹è¯´æ˜

#### åŸºæœ¬è¾“å‡º

åŸºæœ¬è¾“å‡ºçš„å½¢å¼ï¼Œæ•´ä½“ä¸ŠåŒ…æ‹¬ä¸¤ä¸ªéƒ¨åˆ†ï¼š

1. é¡¹ç›®æ‰§è¡Œé˜¶æ®µ

    é¡¹ç›®æ‰§è¡Œé˜¶æ®µä¸»è¦åŒ…æ‹¬ä¸€ä¸ªåŸºæœ¬æ ¼å¼:

    ```text
    âŒ› Steps for process
    ====================
    ```

    é‡‡ç”¨é‡å†™æœºåˆ¶ï¼Œä¸æ–­çš„æ›´æ–°è¾“å‡ºå†…å®¹ï¼Œæ¯ä¸ªé¡¹ç›®æ‰§è¡Œå®Œæˆå¯ä»¥è¾“å‡ºç›¸å¯¹åº”çš„ç»“æœï¼Œç¤ºä¾‹ï¼š

    ```text
    âŒ› Steps for process
    ====================
    âœ” Pre-action completed (10s)
    ```

2. ç»“æœè¾“å‡ºé˜¶æ®µ

    é¡¹ç›®æ‰§è¡Œé˜¶æ®µä¸»è¦åŒ…æ‹¬ä¸€ä¸ªåŸºæœ¬æ ¼å¼:

    ```text
    ğŸš€ Result for process
    ====================
    ```

    å…·ä½“çš„é¡¹ç›®è¾“å‡ºé‡‡ç”¨`Yaml`çš„æ ¼å¼è¿›è¡Œè¾“å‡ºï¼Œè¾“å‡ºæ—¶ï¼Œé¡¹ç›®åç§°è¦åŠ ä¸‹åˆ’çº¿ï¼Œå¦‚æœæ²¡æœ‰è¾“å‡ºåˆ™ç›´æ¥ç»“æŸé¡¹ç›®ï¼Œç¤ºä¾‹ï¼š

    ```text
    ğŸš€ Result for process
    ====================
    âœ” MyProject deployed (11s)
    fc-deploy-test:
      region: cn-hangzhou
      service:
        name: fc-deploy-service
        memorySize: 128
    ```

##### å•é¡¹ç›®è¾“å‡ºç¤ºä¾‹

![render1629447409205](https://img.alicdn.com/imgextra/i4/O1CN01Ljuu2R1Yeyn3PVr3G_!!6000000003085-1-tps-2566-804.gif)

##### å¤šé¡¹ç›®è¾“å‡ºç¤ºä¾‹

![render1629448703505](https://img.alicdn.com/imgextra/i4/O1CN01gBLVHk1zKoz1h2YD7_!!6000000006696-1-tps-2566-1444.gif)

#### è°ƒè¯•æ¨¡å¼

å½“ç”¨æˆ·ä½¿ç”¨`--debug`è¿›å…¥åˆ°è°ƒè¯•æ¨¡å¼ï¼Œåˆ™ä¼šæ‰“å°éå¸¸è¯¦ç»†çš„ä¿¡æ¯åœ¨æ§åˆ¶å°ï¼Œä½†æ˜¯è¿™äº›ä¿¡æ¯å°†ä¼šä»¥ç°è‰²å½¢å¼æ‰“å°å‡ºæ¥ï¼Œä»¥ä¿æŒæ•´ä½“çš„å±‚æ¬¡æ„Ÿï¼š

![render1629448900851](https://img.alicdn.com/imgextra/i1/O1CN01Kmp9WX1q3783Cqraz_!!6000000005439-1-tps-2566-1444.gif)

#### é”™è¯¯è¾“å‡º

å½“æ‰§è¡Œå‡ºç°é”™è¯¯æ—¶ï¼ŒServerless Devsè¦åšåˆ°æ„ŸçŸ¥å¹¶è¾“å‡ºç›¸å¯¹åº”çš„å†…å®¹ï¼š

```text
âŒ› Steps for process
====================
âœ” MyProject pre-action completed (10s)
âœ– MyProject failed to deploy:

Error Message: 
t[r] is not a function

Env:   darwin, node v15.14.0
Docs:  https://github.com/serverless-devs/docs
Bugs:  https://github.com/Serverless-Devs/Serverless-Devs/issues
Logs:  ~/demo/demo/demo/s.log
```

åŠ¨æ€æ•ˆæœä¸ºï¼š

![render1629447327225](https://img.alicdn.com/imgextra/i4/O1CN01IJVzIh1QMe0XQ3Ofc_!!6000000001962-1-tps-2566-804.gif)

## ä¼˜å…ˆçº§å®šä¹‰

åœ¨ä½¿ç”¨ Serverless Devs å¼€å‘è€…å·¥å…·æ—¶ï¼Œä¼šé‡åˆ°ä¸€äº›å¸¦æœ‰é»˜è®¤å€¼çš„å‚æ•°/å˜é‡ï¼Œè¿™ä¸€éƒ¨åˆ†å°†ä¼šé’ˆå¯¹è¿™äº›å‚æ•°/å˜é‡ï¼Œè¿›è¡Œä¼˜å…ˆçº§åˆ’åˆ†ï¼Œåœ¨æ¯ä¸ªç±»åˆ«ä¸‹é¢çš„åˆ—è¡¨ä¸­ï¼Œä¸Šé¢çš„æƒ…å†µä¼˜å…ˆçº§é«˜äºä¸‹é¢çš„æƒ…å†µï¼Œä¾‹å¦‚`Yaml æ–‡ä»¶ä¼˜å…ˆçº§è§„èŒƒ`ä¸ºæ¡ˆä¾‹ï¼Œæè¿°ä¸ºï¼š

- é€šè¿‡`-t/--template`å‚æ•°æŒ‡å®šçš„ Yaml æ–‡ä»¶
- é»˜è®¤çš„ Yaml æ–‡ä»¶ï¼ˆ`s.yaml`/`s.yml`ï¼Œä¸”`s.yaml`çš„ä¼˜å…ˆçº§å¤§äº`s.yml`ï¼‰

åˆ™ Serverless Devs å¼€å‘è€…å·¥å…·åœ¨è¿›è¡Œèµ„æºæè¿°æ–‡ä»¶ä½¿ç”¨æ—¶ï¼Œä¼šä¼˜å…ˆé€‰æ‹©`é€šè¿‡ -t/--template å‚æ•°æŒ‡å®šçš„ Yaml æ–‡ä»¶`ï¼Œå…¶æ¬¡æ‰ä¼šé‡‡ç”¨`é»˜è®¤çš„ Yaml æ–‡ä»¶ï¼ˆ s.yaml/s.ymlï¼Œä¸” s.yaml çš„ä¼˜å…ˆçº§å¤§äº s.yml ï¼‰`

### Yaml æ–‡ä»¶ä¼˜å…ˆçº§è§„èŒƒ

- é€šè¿‡`-t/--template`å‚æ•°æŒ‡å®šçš„ Yaml æ–‡ä»¶
- é»˜è®¤çš„ Yaml æ–‡ä»¶ï¼ˆ`s.yaml`/`s.yml`ï¼Œä¸”`s.yaml`çš„ä¼˜å…ˆçº§å¤§äº`s.yml`ï¼‰

### åº”ç”¨å†…èµ„æºéƒ¨ç½²é¡ºåº

å¦‚æœä¸€ä¸ªServerless Project æ¨¡å‹å¯¹åº”çš„ Yaml æ–‡ä»¶ä¸­æœ‰å¤šä¸ªçš„èµ„æºï¼Œç³»ç»Ÿä¼šé»˜è®¤åˆ†æéƒ¨ç½²é¡ºåºï¼Œè¯¥éƒ¨ç½²é¡ºåºåˆ†ä¸ºä¸¤ä¸ªæ–¹é¢ï¼š

1. æ˜¯å¦å·²ç»åˆ¶å®šflowæµç¨‹

    - æŒ‰ç…§æŒ‡å®šçš„æµç¨‹è¿›è¡Œéƒ¨ç½²ï¼Œæ²¡åœ¨æµç¨‹ä¸­çš„ä¸è¿›è¡Œé¢å¤–çš„æ“ä½œ

2. æ²¡æœ‰æŒ‡å®šflowæµç¨‹

    - åˆ†æé¡¹ç›®ä¸­çš„ä¾èµ–å…³ç³»
    - æœ‰ä¾èµ–å…³ç³»çš„æŒ‰ç…§ä¾èµ–å…³ç³»ä»å‰åˆ°åéƒ¨ç½²ï¼Œæ— ä¾èµ–å…³ç³»çš„æŒ‰Yamlé…ç½®çš„ä»ä¸Šåˆ°ä¸‹éƒ¨ç½²

å…·ä½“è¯·å‚è€ƒ[specæ‰§è¡Œé¡ºåº](../user-guide/spec.md#_6)

### å¯†é’¥ä½¿ç”¨é¡ºåºä¸è§„èŒƒ

- é€šè¿‡`-a/--access`å‚æ•°æŒ‡å®šçš„å¯†é’¥ä¿¡æ¯
- ä½¿ç”¨å·²ç»é…ç½®çš„`default`å¯†é’¥ä¿¡æ¯
- ä½¿ç”¨é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®çš„`default_serverless_devs_key`å¯†é’¥ä¿¡æ¯
- ä¸ä½¿ç”¨å¯†é’¥ä¿¡æ¯ / è¿›å…¥å¯†é’¥ä¿¡æ¯é…ç½®å¼•å¯¼

å…·ä½“çš„æµç¨‹å›¾ä¸ºï¼š

![å›¾ç‰‡alt](https://serverless-article-picture.oss-cn-hangzhou.aliyuncs.com/1635841483040_20211102082444588067.png)

## é€šè¿‡ç¯å¢ƒå˜é‡è®¾ç½®å¯†é’¥

Serverless Devs å¯ä»¥æ¯”è¾ƒå®¹æ˜“çš„é€šè¿‡ç¯å¢ƒå˜é‡è¿›è¡Œå¯†é’¥ä¿¡æ¯çš„è®¾å®šã€‚é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®å¯†é’¥çš„æ–¹æ³•æœ‰ä¸¤ç§ï¼š

1. é€šè¿‡å‘½ä»¤å¼•å…¥ç¯å¢ƒå˜é‡ä¸­çš„å¯†é’¥ï¼šä¾‹å¦‚åœ¨ç¯å¢ƒå˜é‡ä¸­æœ‰`ALIBABA_CLOUD_ACCOUNT_ID`ã€`ALIBABA_CLOUD_ACCESS_KEY_ID`ã€`ALIBABA_CLOUD_ACCESS_KEY_SECRET`ç­‰ç›¸å…³å†…å®¹ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡`s config add`å‘½ä»¤è¿›è¡Œæ·»åŠ ï¼š

    ```bash
    s config add -a default-aliyun --kl AccountID,AccessKeyID,AccessKeySecret --il ${ALIBABA_CLOUD_ACCOUNT_ID},${ALIBABA_CLOUD_ACCESS_KEY_ID},${ALIBABA_CLOUD_ACCESS_KEY_SECRET}
    ```

2. é€šè¿‡æŒ‡å®šç¯å¢ƒå˜é‡çš„åå­—è¿›è¡Œé…ç½®ï¼šä¾‹å¦‚å½“å‰æœ‰é˜¿é‡Œäº‘å¯†é’¥å¯¹ï¼š
      - AccountID: temp_accountid
      - AccessKeyID: temp_accesskeyid
      - AccessKeySecret: temp_accesskeysecret  
       æ­¤æ—¶å¯ä»¥åœ¨ç¯å¢ƒå˜é‡ä¸­å¯ä»¥å‘½å key ä¸º`*********_serverless_devs_key`ï¼Œä¾‹å¦‚`default_serverless_devs_key`ï¼Œvalue ä¸º JSON å­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼š
      - Keyï¼š`default_serverless_devs_key`
      - Valueï¼š`{\"AccountID\":\"temp_accountid\",\"AccessKeyID\":\"temp_accesskeyid\",\"AccessKeySecret\":\"temp_accesskeysecret\"}`  
      æ­¤æ—¶ï¼Œå¯ä»¥åœ¨é…ç½®å¯†é’¥çš„æ—¶å€™æŒ‡å®šå¯†é’¥`default_serverless_devs_key`ã€‚

      åœ¨`s.yaml`é…ç½®å¦‚ä¸‹:

      ```yaml
      edition: 3.0.0          #  å‘½ä»¤è¡ŒYAMLè§„èŒƒç‰ˆæœ¬ï¼Œéµå¾ªè¯­ä¹‰åŒ–ç‰ˆæœ¬ï¼ˆSemantic Versioningï¼‰è§„èŒƒ
      name: fcDeployApp       #  é¡¹ç›®åç§°
      access: default_serverless_devs_key  #  ç§˜é’¥åˆ«å

      resources:
       fc-deploy-test:
       component: fc-deploy  # ç»„ä»¶åç§°
       props: #  ç»„ä»¶çš„å±æ€§å€¼
           region: cn-shenzhen
           service:
           name: fc-deploy-service
      ```
